webpackJsonp([1],{NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a=s("Gu7T"),n=s.n(a),o={data:function(){return{toggleFlag:!0,list_data:[],item_index:0,chooseFileShow:!0,nextShow:!1,submitShow:!1,answerList:[],errPageShow:!1,actualResult:!1,containerShow:!0}},methods:{targetChooseFile:function(){this.$refs.file.click()},chooseFile:function(t){var e=t.target.files[0],s=new FormData;s.append("file",e),this.uploadFile(s)},uploadFile:function(t){var e=this;this.$axios.post("/readFile",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){1===t.data.code&&null===t.data.error?(e.list_data=t.data.data,e.list_data.data.shift(),e.chooseFileShow=!1,e.nextShow=!0):console.log(t)})},nextItem:function(){var t=document.querySelector("div.flag");this.list_data.data[this.item_index][this.list_data.result_index]===this.answerList[this.item_index]?(t.isSuccess=!0,t.setAttribute("isSuccess",!0)):(t.isSuccess=!1,t.setAttribute("isSuccess",!1)),this.item_index++,this.item_index>=this.list_data.data.length&&(this.nextShow=!1,this.submitShow=!0)},savaAnswer:function(t,e,s){this.answerList[t]=e,[].concat(n()(document.querySelectorAll(".flag>.chooseItem"))).forEach(function(t){t.children[0].checked=!1}),s.target.children[0].checked=!0},chooseItemIndex:function(t){this.nextShow=!0,this.submitShow=!1,this.item_index=t},showResult:function(){this.submitShow=!1,this.containerShow=!1,this.errPageShow=!0,this.actualResult=!0;var t=[],e=[],s=[].concat(n()(document.querySelectorAll(".item"))),i=document.querySelector(".error_list");console.log(i),s.forEach(function(s){s.className="item flag",s.isSuccess?e.push(s):(t.push(s),i.appendChild(s))}),console.log(e,t)}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{ref:"errorList",class:{error_list:!0,error_list_show:t.errPageShow}}),t._v(" "),t.chooseFileShow?s("div",{staticClass:"upload"},[s("div",{staticClass:"showupload",on:{click:t.targetChooseFile}},[t._v("选择题库读取")]),t._v(" "),s("input",{ref:"file",staticClass:"choose_file",attrs:{type:"file"},on:{change:function(e){return t.chooseFile(e)}}})]):t._e(),t._v(" "),t.containerShow?s("div",{staticClass:"container"},[0!==t.list_data.lenght?s("ul",{class:{item_list:!0,toggle_class:t.toggleFlag}},[t._l(t.list_data.data,function(e,i){return s("li",{key:i,class:{done:t.answerList[i]},on:{click:function(e){return t.chooseItemIndex(i)}}},[t._v("\n        "+t._s(i+1)+"\n      ")])}),t._v(" "),s("div",{staticClass:"toggle",on:{click:function(e){t.toggleFlag=!t.toggleFlag}}},[t._v("切换收放")])],2):t._e(),t._v(" "),0!==t.list_data.lenght?s("div",{staticClass:"box"},t._l(t.list_data.data,function(e,i){return s("div",{key:i,class:{item:!0,flag:i===t.item_index}},[s("div",{staticClass:"title"},[t._v("\n          "+t._s(i+1)+":"+t._s(e[t.list_data.title_index])+"\n        ")]),t._v(" "),s("div",{staticClass:"chooseItem",on:{click:function(e){return t.savaAnswer(i,"A",e)}}},[s("input",{attrs:{type:"radio",name:e[t.list_data.title_index],value:"A"}}),t._v(" "),s("p",{staticClass:"choose_text"},[t._v(t._s(e[t.list_data.A_index]))])]),t._v(" "),s("div",{staticClass:"chooseItem",on:{click:function(e){return t.savaAnswer(i,"B",e)}}},[s("input",{attrs:{type:"radio",name:e[t.list_data.title_index],value:"B"}}),t._v(" "),s("p",{staticClass:"choose_text"},[t._v(t._s(e[t.list_data.B_index]))])]),t._v(" "),s("div",{staticClass:"chooseItem",on:{click:function(e){return t.savaAnswer(i,"C",e)}}},[s("input",{attrs:{type:"radio",name:e[t.list_data.title_index],value:"C"}}),t._v(" "),s("p",{staticClass:"choose_text"},[t._v(t._s(e[t.list_data.C_index]))])]),t._v(" "),s("div",{staticClass:"chooseItem",on:{click:function(e){return t.savaAnswer(i,"D",e)}}},[s("input",{attrs:{type:"radio",name:e[t.list_data.title_index],value:"D"}}),t._v(" "),s("p",{staticClass:"choose_text"},[t._v(t._s(e[t.list_data.D_index]))])]),t._v(" "),t.actualResult?s("div",{staticClass:"actual_result"},[t._v("\n          正确答案："+t._s(e[t.list_data.result_index])+"\n        ")]):t._e(),t._v(" "),s("input",{attrs:{type:"hidden",name:e[t.list_data.title_index]},domProps:{value:e[t.list_data.result_index]}})])}),0):t._e(),t._v(" "),t.nextShow?s("button",{staticClass:"next",on:{click:function(e){return t.nextItem()}}},[t._v("下一题")]):t._e(),t._v(" "),t.submitShow?s("button",{staticClass:"submit",on:{click:function(e){return t.showResult()}}},[t._v("\n      提交\n    ")]):t._e()]):t._e()])},staticRenderFns:[]};var c=s("VU/8")(o,l,!1,function(t){s("aIew")},"data-v-b97bb4d0",null).exports,r=s("+L5+"),d=s.n(r).a.create({baseURL:"120.25.249.159:3000/demo/examination",timeout:1e4});i.a.prototype.$axios=d,i.a.config.productionTip=!1,i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:c},template:"<App/>"})},aIew:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5ff32a8f4de27ad6fbf5.js.map